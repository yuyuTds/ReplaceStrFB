# 本リポジトリについて
## 概要
Omron NJ/NX/NY (SysmacStudio)で使用することができるClock FB（ファンクションブロック）です。  
特定の文字列を置換することのできるFB。  
Pull request（改善したプログラムの公開）、Issue（質問、バグ報告）大歓迎です。
  
## ファイル  
- ReplaceStrFB.csm2：プロジェクトファイル。ReplaceStrFBとReplaceStrFBの使用例が含まれています。
  
## 使用方法
- ReplaceStrFB.csm2を使用する場合：  
  SysmacStudioがインストールされたPCで、ダウンロードした「ReplaceStrFB.csm2」をダブルクリックすると、本プログラムが開きます。
  使用したいプロジェクトにファンクションブロックをコピーしてください。


  
# ClockFB
## 機能
特定の文字列を検索し、置換した文字列を出力します。

## 入出力変数

<img width="245" height="126" alt="image" src="https://github.com/user-attachments/assets/f77a5cd0-a272-49b9-a4f5-56411f7b074c" />


|入出力|名称|データ型|エッジ|初期値|保持|コンスタント|コメント|
|:----|:----|:----|:----|:----|:----|:----|:----|
|入力|EN|BOOL|ー|ー|ー|ー|TRUEで実行し、FALSEで停止します|
|入力|In|STRING[1986]|ー|ー|ー|ー|元の文字列|
|入力|Old|STRING[256]|ー|ー|ー|ー|検索する文字列|
|入力|New|STRING[256]|ー|ー|ー|ー|置き換える文字列|
|入力|Replaced|BOOL|ー|ー|ー|ー|置換有無結果 (TRUE:置換有 FALSE:置換無)|
|出力|ReplaceStr|STRING[1986]|ー|ー|ー|ー|置換後の文字列|


## タイミングチャート
- 「[Sysmac Studio Version 1 オペレーションマニュアル (SBCA-470)](https://www.fa.omron.co.jp/products/family/3077/download/manual.html)」のFUNのタイミングチャートに従っています。
- 「[Sysmac Studio Version 1 オペレーションマニュアル (SBCA-470)](https://www.fa.omron.co.jp/products/family/3077/download/manual.html)」を参照してください。


## 使用名前空間
- yuyuTds

## 注意点
- In(元の文字列)にOld(検索する文字列)が複数ある場合、初めの文字列のみ置換します。
  すべての文字列を置換したい場合は、Replaced(置換有無結果)がFALSEになるまで繰り返し本FUNを実行してください。
- ユーザー定義FUNでは、文字列の長さを可変長にすることができません。
  そのため、本FUNでは、In、ReplaceStrは1986Byte、Old、Newは256Byteに固定しています。
  Byteを変更したい場合は、使用者自身でFUNのデータ型を変更してください。


# ライセンスについて
本プログラムは、MITライセンスのもとで配布します。  
MITライセンスはオープンソースのソフトウェアライセンスの一つであり、ソフトウェアとそのソースコードを非常に寛容な条件下で使用、改変、再配布することを許可します。  
MITライセンスの特徴を以下に記載します。
- 著作権表示の保持：ライセンスされたソフトウェアを使用、改変、または再配布する際には、著作権表示およびライセンス条項の表示を保持することが求められます。
- 無保証：MITライセンス下で提供されるソフトウェアは、いかなる保証も伴わず、「現状有姿」で提供されます。つまり、ソフトウェアの品質や性能についての保証は一切ありません。
- 商用利用と非商用利用の両方が許可：MITライセンスは、商用プロジェクトおよび非商用プロジェクトの両方において、ソフトウェアの使用を許可します。
